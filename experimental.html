<!doctype html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Dibarpan (Adi) Das | Engineering & AI — Sci‑Fi 3D + WebGL</title>

  <!-- Tailwind CDN for quick prototyping (swap for built CSS in production) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Google Font: Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />

  <!-- three.js (WebGL) -->
  <script src="https://unpkg.com/three@0.152.2/build/three.min.js"></script>

  <style>
    :root{--bg:#05040f;--accent:#6d28d9;--accent-2:#06b6d4}
    html,body{height:100%}
    body{margin:0;font-family:'Inter',system-ui,Segoe UI,Roboto,Arial;background:var(--bg);color:#e6eef8;overflow-x:hidden}

    /* Page layout */
    .container{max-width:1100px;margin:0 auto;padding:2rem}
    .neon{text-shadow:0 0 8px rgba(109,40,217,0.28),0 0 24px rgba(6,182,212,0.06)}

    /* Courses panel */
    .courses-panel{backdrop-filter: blur(8px);background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04);border-radius:14px;padding:1rem}

    /* WebGL canvas area sizing */
    #glcanvas{width:100%;height:420px;display:block;border-radius:12px;overflow:hidden}

    /* Course list */
    .course-item{cursor:pointer;padding:0.5rem;border-radius:8px;transition:transform .12s ease,background .12s ease}
    .course-item:hover{transform:translateY(-4px);background:rgba(255,255,255,0.02)}

    /* Tooltip */
    .tooltip{position:fixed;pointer-events:none;padding:6px 8px;border-radius:6px;background:rgba(0,0,0,0.6);color:#fff;font-size:13px;border:1px solid rgba(255,255,255,0.04)}

    /* responsive adjustments */
    @media (max-width:768px){#glcanvas{height:300px}}

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce){*{animation:none;transition:none}}
  </style>
</head>
<body>
  <div class="space-bg" style="position:fixed;inset:0;z-index:-50;background:radial-gradient(circle at 20% 20%, rgba(109,40,217,0.08), transparent 6%), radial-gradient(circle at 80% 80%, rgba(6,182,212,0.06), transparent 8%), #02030a;filter:blur(20px)"></div>

  <header class="py-6">
    <div class="container flex items-center justify-between">
      <a href="index.html" class="text-2xl font-bold neon">Adi<span style="color:var(--accent)">.</span></a>
      <nav class="hidden md:flex items-center gap-6 text-sm text-slate-200/80">
        <a href="index.html" class="hover:underline">Home</a>
        <a href="about.html" class="hover:underline">About</a>
        <a href="experience.html" class="hover:underline">Experience</a>
        <a href="projects.html" class="hover:underline">Projects</a>
        <a href="vision.html" class="hover:underline">Vision</a>
        <a href="goals.html" class="hover:underline">Goals</a>
        <a href="experimental.html" class="hover:underline">Experimental</a>
        <a href="contact.html" class="hover:underline">Contact</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="grid lg:grid-cols-2 gap-8 items-start">

      <!-- Left: WebGL canvas -->
      <div>
        <div class="courses-panel">
          <h2 class="text-2xl font-semibold neon">Interactive Course Map</h2>
          <p class="text-slate-300 text-sm mt-1">Explore topics and click a course to highlight its node on the 3D globe. Uses WebGL (three.js) for smooth sci‑fi visuals.</p>
          <canvas id="glcanvas" role="img" aria-label="Interactive 3D course globe" tabindex="0"></canvas>
          <div class="mt-4 text-xs text-slate-400">Tip: Move your mouse over the canvas to rotate. Click a course in the list to spotlight it.</div>
        </div>
      </div>

      <!-- Right: Course list / design -->
      <aside>
        <div class="courses-panel">
          <h3 class="text-lg font-semibold">Course Design — Modular & Hands-on</h3>
          <p class="text-slate-300 text-sm mt-1">I redesigned the course layout to be modular: each module is short, project-focused, and has a practical deliverable. Below are current/important modules.</p>

          <div id="courses-list" class="mt-4 space-y-2">
            <!-- Use the user's known study topics where relevant -->
            <div class="course-item" data-course="0"><strong>Applications of Definite Integrals</strong><div class="text-xs text-slate-400">Integrals for area, volume, and engineering applications.</div></div>
            <div class="course-item" data-course="1"><strong>Area Between Curves</strong><div class="text-xs text-slate-400">Practice with plane regions and numerical approximation.</div></div>
            <div class="course-item" data-course="2"><strong>Length of a Plane Curve</strong><div class="text-xs text-slate-400">Arc length formulas and parametrized curves.</div></div>
            <div class="course-item" data-course="3"><strong>Surface Area of Revolution</strong><div class="text-xs text-slate-400">Surface integrals and engineering surfaces.</div></div>
            <div class="course-item" data-course="4"><strong>Volume of Solids of Revolution</strong><div class="text-xs text-slate-400">Washers, shells, and computational methods.</div></div>
            <div class="course-item" data-course="5"><strong>Beta & Gamma Functions</strong><div class="text-xs text-slate-400">Special functions with applications in probability and physics.</div></div>

            <!-- Add a CTA -->
            <div class="mt-4 pt-2 border-t border-white/6">
              <button id="download-syllabus" class="mt-2 px-4 py-2 rounded-md bg-indigo-600 text-white">Download modular syllabus (PDF)</button>
            </div>
          </div>
        </div>
      </aside>

    </section>
  </main>

  <div id="tooltip" class="tooltip" style="display:none"></div>

  <footer style="padding:2rem;text-align:center;color:#9aa6c3;opacity:0.9">&copy; 2025 Dibarpan (Adi) Das</footer>

  <script>
  // ------------------------
  // three.js — interactive course globe
  // ------------------------
  (function(){
    const canvas = document.getElementById('glcanvas');
    if(!canvas) return;

    // Respect reduced motion
    const reduce = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    // Scene + camera + renderer
    const renderer = new THREE.WebGLRenderer({canvas: canvas, antialias:true, alpha:true});
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
    renderer.setSize(canvas.clientWidth, canvas.clientHeight, false);
    renderer.outputEncoding = THREE.sRGBEncoding;

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(40, canvas.clientWidth / canvas.clientHeight, 0.1, 1000);
    camera.position.set(0,0,6);

    // subtle environment light
    const ambient = new THREE.AmbientLight(0xffffff, 0.6);
    scene.add(ambient);
    const dir = new THREE.DirectionalLight(0xffffff, 0.6);
    dir.position.set(5,5,5);
    scene.add(dir);

    // wireframe globe
    const sphereGeom = new THREE.SphereGeometry(2.2, 64, 64);
    const wireMat = new THREE.MeshBasicMaterial({color:0x6d28d9, wireframe:true, opacity:0.12, transparent:true});
    const wire = new THREE.Mesh(sphereGeom, wireMat);
    scene.add(wire);

    // course nodes (points on sphere)
    const courseDefs = [
      {name:'Applications of Definite Integrals'},
      {name:'Area Between Curves'},
      {name:'Length of a Plane Curve'},
      {name:'Surface Area of Revolution'},
      {name:'Volume of Solids of Revolution'},
      {name:'Beta & Gamma Functions'}
    ];

    const nodes = [];
    const nodeGeometry = new THREE.SphereGeometry(0.06, 12, 12);
    const nodeMaterial = new THREE.MeshStandardMaterial({color:0x06b6d4, emissive:0x072a2b, metalness:0.2, roughness:0.4});
    const highlightMaterial = new THREE.MeshStandardMaterial({color:0xffd166, emissive:0x2b1600, metalness:0.5, roughness:0.2});

    // distribute nodes using spherical coordinates
    courseDefs.forEach((c, i)=>{
      const phi = Math.acos(2 * (i+1)/ (courseDefs.length+2) - 1); // pseudo-even
      const theta = i * Math.PI * 0.9;
      const r = 2.2;
      const x = r * Math.sin(phi) * Math.cos(theta);
      const y = r * Math.cos(phi);
      const z = r * Math.sin(phi) * Math.sin(theta);
      const mesh = new THREE.Mesh(nodeGeometry, nodeMaterial.clone());
      mesh.position.set(x,y,z);
      mesh.userData = {index:i, name:c.name};
      scene.add(mesh);
      nodes.push(mesh);

      // subtle glow sprite
      const spriteMat = new THREE.SpriteMaterial({
        map: new THREE.CanvasTexture(makeDotTexture('#06b6d4')),
        blending: THREE.AdditiveBlending, transparent:true, opacity:0.6
      });
      const sprite = new THREE.Sprite(spriteMat);
      sprite.scale.set(0.5,0.5,0.5);
      sprite.position.copy(mesh.position);
      scene.add(sprite);
    });

    // helper: create a small circular texture for sprite glow
    function makeDotTexture(color){
      const size = 64;
      const canvas = document.createElement('canvas'); canvas.width = canvas.height = size;
      const ctx = canvas.getContext('2d');
      const grad = ctx.createRadialGradient(size/2,size/2,0,size/2,size/2,size/2);
      grad.addColorStop(0, color);
      grad.addColorStop(1, 'rgba(0,0,0,0)');
      ctx.fillStyle = grad; ctx.fillRect(0,0,size,size);
      return canvas;
    }

    // resize handling
    function resizeRenderer(){
      const w = canvas.clientWidth;
      const h = canvas.clientHeight;
      if(canvas.width !== Math.floor(w * renderer.getPixelRatio()) || canvas.height !== Math.floor(h * renderer.getPixelRatio())){
        renderer.setSize(w,h,false);
        camera.aspect = w / h; camera.updateProjectionMatrix();
      }
    }

    // simple orbiting rotation controlled by mouse
    let targetX = 0, targetY = 0, currentX = 0, currentY = 0;
    canvas.addEventListener('mousemove', (e)=>{
      const rect = canvas.getBoundingClientRect();
      const mx = (e.clientX - rect.left) / rect.width - 0.5;
      const my = (e.clientY - rect.top) / rect.height - 0.5;
      targetY = mx * Math.PI * 0.15;
      targetX = my * Math.PI * 0.15 * -1;
    });

    // click to highlight node
    canvas.addEventListener('click', (e)=>{
      const mouse = new THREE.Vector2();
      const rect = canvas.getBoundingClientRect();
      mouse.x = ((e.clientX - rect.left) / rect.width) * 2 - 1;
      mouse.y = -((e.clientY - rect.top) / rect.height) * 2 + 1;
      const ray = new THREE.Raycaster();
      ray.setFromCamera(mouse, camera);
      const intersect = ray.intersectObjects(nodes);
      if(intersect.length){
        const picked = intersect[0].object;
        spotlightNode(picked.userData.index);
        // scroll list into view and pulse the item
        const el = document.querySelector('[data-course="'+picked.userData.index+'"]');
        if(el){ el.scrollIntoView({behavior:'smooth', block:'center'});
          el.animate([{transform:'scale(1)'},{transform:'scale(1.04)'},{transform:'scale(1)'}],{duration:360}); }
      }
    });

    // spotlight animation
    let activeIndex = -1;
    function spotlightNode(i){
      if(activeIndex >= 0) nodes[activeIndex].material.copy(nodeMaterial);
      activeIndex = i;
      nodes[i].material.copy(highlightMaterial);
    }

    // wire rotation + node bobbing
    const clock = new THREE.Clock();
    function tick(){
      resizeRenderer();
      const dt = clock.getDelta();
      currentX += (targetX - currentX) * 0.06;
      currentY += (targetY - currentY) * 0.06;
      scene.rotation.x = currentX;
      scene.rotation.y = currentY;

      // subtle node pulse
      nodes.forEach((n, idx)=>{
        const s = 1 + 0.04 * Math.sin(clock.elapsedTime * 2 + idx);
        n.scale.setScalar(s);
      });

      renderer.render(scene, camera);
      if(!reduce) requestAnimationFrame(tick);
    }
    tick();

    // wire up course list clicks to spotlight
    document.querySelectorAll('.course-item').forEach(el=>{
      el.addEventListener('click', ()=>{
        const idx = Number(el.getAttribute('data-course'));
        spotlightNode(idx);
      });
      el.addEventListener('mouseenter', (ev)=>{
        const idx = Number(el.getAttribute('data-course'));
        showTooltip(ev.clientX, ev.clientY, courseDefs[idx].name);
      });
      el.addEventListener('mouseleave', ()=>{ hideTooltip(); });
    });

    // tooltip helpers
    const tooltip = document.getElementById('tooltip');
    function showTooltip(x,y,text){ tooltip.style.left = (x+12)+'px'; tooltip.style.top = (y+12)+'px'; tooltip.textContent = text; tooltip.style.display='block'; }
    function hideTooltip(){ tooltip.style.display='none'; }

    // initial highlight
    spotlightNode(0);

    // expose a simple download placeholder
    document.getElementById('download-syllabus').addEventListener('click', ()=>{
      alert('Download placeholder — integrate server-side or build a PDF to serve.');
    });

    // ensure canvas resizes on window resize
    window.addEventListener('resize', ()=>{ resizeRenderer(); camera.updateProjectionMatrix(); });

  })();
  </script>
</body>
</html>
